---
description: 보안 필수사항 - 모든 코드에 적용
alwaysApply: true
priority: 2
---

# 🔒 Security Essentials

**AUTOMATIC MODE**: 모든 작업에서 보안 검증

---

## 🚨 절대 금지

### 하드코딩 금지
- ❌ API 키 하드코딩
- ❌ 비밀번호 하드코딩
- ❌ 토큰 하드코딩
- ❌ 개인정보 하드코딩

### 로그 출력 금지
- ❌ 개인정보 로그 출력
- ❌ 비밀번호 로그 출력
- ❌ API 키 로그 출력
- ❌ 토큰 로그 출력

---

## ✅ 필수 사항

### 환경변수 사용
```typescript
// ✅ 올바른 방법
const apiKey = process.env.API_KEY;
if (!apiKey) {
  throw new Error('API_KEY environment variable is required');
}

// ❌ 잘못된 방법
const apiKey = 'sk-1234567890abcdef';
```

### 입력 검증
```typescript
// ✅ SQL Injection 방지
const query = 'SELECT * FROM users WHERE id = ?';
db.query(query, [userId]);

// ❌ SQL Injection 위험
const query = `SELECT * FROM users WHERE id = ${userId}`;
```

### XSS 방지
```typescript
// ✅ 안전한 렌더링
<div>{escapeHtml(userInput)}</div>

// ❌ XSS 위험
<div dangerouslySetInnerHTML={{ __html: userInput }} />
```

---

## 🔐 데이터 보호

### 암호화
- **민감 정보**: 반드시 암호화
- **전송**: HTTPS/TLS 필수
- **저장**: 암호화된 형태로 저장

### 접근 제어
- **인증**: 사용자 인증 필수
- **권한**: 최소 권한 원칙
- **세션**: 안전한 세션 관리

---

## 🛡️ 코드 보안

### 의존성 검사
```bash
# Node.js
npm audit
npm audit fix

# Python
pip-audit
pip-audit --fix
```

### 정기적 업데이트
- 보안 패치 즉시 적용
- 취약점 알림 모니터링
- 의존성 정기 업데이트

---

## ⚠️ 일반적인 취약점

### SQL Injection
- **방지**: 파라미터화된 쿼리 사용
- **검증**: 입력 값 검증

### XSS (Cross-Site Scripting)
- **방지**: HTML 이스케이프
- **검증**: 사용자 입력 검증

### CSRF (Cross-Site Request Forgery)
- **방지**: CSRF 토큰 사용
- **검증**: Origin 검증

### 인증 우회
- **방지**: 강력한 인증 메커니즘
- **검증**: 세션 검증

---

## 🔍 보안 체크리스트

### 코드 작성 시
- [ ] 환경변수 사용 확인
- [ ] 입력 검증 포함
- [ ] 에러 메시지에 민감 정보 없음
- [ ] 로그에 민감 정보 없음

### 배포 전
- [ ] 의존성 취약점 검사
- [ ] 환경변수 설정 확인
- [ ] HTTPS/TLS 사용 확인
- [ ] 접근 제어 확인

---

## 📚 추가 리소스

- OWASP Top 10 참조
- 프로젝트별 보안 가이드
- 정기 보안 감사

---

**총: 100줄 (핵심만 추출)**
